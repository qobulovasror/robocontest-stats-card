<svg width="495" height="280" viewBox="0 0 495 280" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="headerGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="cardGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a1a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2d2d2d;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="successGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="errorGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000000" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="495" height="280" rx="10" fill="url(#cardGradient)" filter="url(#shadow)"/>
  
  <!-- Header -->
  <rect x="0" y="0" width="495" height="50" rx="10" fill="url(#headerGradient)"/>
  
  <!-- RoboContest Logo/Title -->
  <text x="20" y="32" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">
    Recent Attempts - <%= stats.username %>
  </text>
  
  <!-- User Info -->
  <g transform="translate(20, 70)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#8b5cf6">
      <%= stats.fullName %>
    </text>
    
    <!-- Stats Row -->
    <rect x="0" y="25" width="70" height="25" rx="5" fill="#2a2a2a" stroke="#8b5cf6" stroke-width="1"/>
    <text x="35" y="35" font-family="Arial, sans-serif" font-size="9" fill="#CCCCCC" text-anchor="middle">Rank</text>
    <text x="35" y="45" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#8b5cf6" text-anchor="middle">#<%= stats.rank.toLocaleString() %></text>
    
    <rect x="80" y="25" width="70" height="25" rx="5" fill="#2a2a2a" stroke="#fbbf24" stroke-width="1"/>
    <text x="115" y="35" font-family="Arial, sans-serif" font-size="9" fill="#CCCCCC" text-anchor="middle">Rating</text>
    <text x="115" y="45" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#fbbf24" text-anchor="middle"><%= stats.rating %></text>
    
    <rect x="160" y="25" width="70" height="25" rx="5" fill="#2a2a2a" stroke="#10b981" stroke-width="1"/>
    <text x="195" y="35" font-family="Arial, sans-serif" font-size="9" fill="#CCCCCC" text-anchor="middle">Solved</text>
    <text x="195" y="45" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#10b981" text-anchor="middle"><%= stats.solved %></text>
    
    <rect x="240" y="25" width="70" height="25" rx="5" fill="#2a2a2a" stroke="#ef4444" stroke-width="1"/>
    <text x="275" y="35" font-family="Arial, sans-serif" font-size="9" fill="#CCCCCC" text-anchor="middle">Stars</text>
    <text x="275" y="45" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ef4444" text-anchor="middle"><%= stats.solvedStars %></text>
  </g>
  
  <!-- Attempts List -->
  <g transform="translate(20, 110)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#CCCCCC">
      Last 5 Attempts:
    </text>
    
    <% activity.forEach((attempt, index) => { %>
      <g transform="translate(0, <%= 25 + index * 32 %>)">
        <!-- Attempt Card -->
        <rect x="0" y="0" width="455" height="28" rx="6" fill="<%= index % 2 === 0 ? '#2a2a2a' : '#333333' %>" stroke="<%= attempt.attemStatus.toLowerCase().includes('accepted') ? '#10b981' : '#ef4444' %>" stroke-width="1"/>
        
        <!-- Status Indicator -->
        <circle cx="15" cy="14" r="6" fill="<%= attempt.attemStatus.toLowerCase().includes('accepted') ? '#10b981' : '#ef4444' %>"/>
        
        <!-- Task Name -->
        <text x="30" y="18" font-family="Arial, sans-serif" font-size="10" fill="#CCCCCC">
          <%= attempt.taskName.length > 30 ? attempt.taskName.substring(0, 30) + '...' : attempt.taskName %>
        </text>
        
        <!-- Language -->
        <text x="280" y="18" font-family="Arial, sans-serif" font-size="9" fill="#fbbf24">
          <%= attempt.langName %>
        </text>
        
        <!-- Time & Memory -->
        <text x="350" y="18" font-family="Arial, sans-serif" font-size="9" fill="#10b981">
          <%= attempt.time %> | <%= attempt.memory %>
        </text>
        
        <!-- Date -->
        <text x="420" y="18" font-family="Arial, sans-serif" font-size="8" fill="#666666">
          <%= attempt.date %>
        </text>
      </g>
    <% }); %>
  </g>
  
  <!-- Success Rate -->
  <g transform="translate(20, 240)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#CCCCCC">
      Success Rate: <tspan fill="#10b981"><%= stats.successRate %>%</tspan>
    </text>
    
    <!-- Progress Bar -->
    <rect x="0" y="20" width="200" height="8" rx="4" fill="#333333"/>
    <rect x="0" y="20" width="<%= Math.min(200, (stats.successRate / 100) * 200) %>" height="8" rx="4" fill="url(#successGradient)"/>
  </g>
  
  <!-- Footer -->
  <text x="20" y="270" font-family="Arial, sans-serif" font-size="8" fill="#666666">
    Generated by robocontest-stats-card | Attempts Overview
  </text>
</svg> 